pipeline{
    
    agent any
    
    stages{
        
        stage("Build"){
            steps{                
                 git 'https://github.com/jglick/simple-maven-project-with-tests.git'
                 sh "mvn -Dmaven.test.failure.ignore=true clean package"
            }
            post 
            {
                success 
                {
                    junit '**/target/surefire-reports/TEST-*.xml'
                    archiveArtifacts 'target/*.jar'
                }
            }
            }
        }
        
        stage("Run UTs"){
            steps{
                echo("Run Uts")
            }
        }
        
        stage("Deploy to dev"){
            steps{
                echo("dev deployment")
            }
        }
        
        stage("Deploy to QA"){
            steps{
                echo("qa deployment")
            }
        }
        
        stage("Run Automation Reg Test"){
            steps{
                echo("Run Automation Reg Test")
            }
        }
        
        stage("Deploy to Stage"){
            steps{
                echo("stage deployment")
            }
        }
        
        stage("Deploy to PROD"){
            steps{
                echo("prod deployment")
            }
        }
        
    }
    
}